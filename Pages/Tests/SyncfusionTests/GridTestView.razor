@using Syncfusion.EJ2.Blazor.Grids
@using BlazorTests.Data
@inject BlazorTests.Services.ReferenceService ReferenceService
@inject BlazorTests.Services.ContactService ContactService


<EjsGrid id="grid" DataSource="@Contacts" AllowPaging="true" AllowSorting="true" AllowExcelExport="true" AllowFiltering="true">
    <GridColumns>
        <GridColumn Field=@nameof(Contact.LastName) HeaderText="Nom" Width="130"></GridColumn>
        <GridColumn Field=@nameof(Contact.FirstName) HeaderText="Prénom" Width="120"></GridColumn>
        <GridColumn Field=@nameof(Contact.CivilityText) HeaderText="Civilité" Width="150"></GridColumn>
        <GridColumn Field=@nameof(Contact.BirthDate) HeaderText="Date de naissance" Width="150" Type="ColumnType.Date" Format="yMd"></GridColumn>
        <GridColumn Field=@nameof(Contact.Married) HeaderText="Marrié" Width="150" Type="ColumnType.Boolean"></GridColumn>
    </GridColumns>
</EjsGrid>


@code {

    public IList<Contact> Contacts { get; set; }

    protected override async Task OnInitializedAsync()
    {
        this.Contacts = await ContactService.GetContacts();
    }
}
