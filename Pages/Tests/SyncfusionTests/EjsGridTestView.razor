@using Syncfusion.EJ2.RazorComponents.Grids
@using BlazorTests.Data
@inject BlazorTests.Services.ReferenceService ReferenceService
@inject BlazorTests.Services.ContactService ContactService


<EjsGrid id="grid" DataSource="@Contacts" AllowPaging="true" AllowSorting="true" AllowExcelExport="true" AllowFiltering="true">
    <GridColumns>
        <GridColumn Field=@nameof(Contact.LastName) HeaderText="Nom" Width="130"></GridColumn>
        <GridColumn Field=@nameof(Contact.FirstName) HeaderText="Prénom" Width="120"></GridColumn>
        <GridColumn Field=@nameof(Contact.CivilityText) HeaderText="Civilité" Width="150"></GridColumn>
    </GridColumns>
</EjsGrid>


@functions {

    public IList<Contact> Contacts { get; set; }

    protected override async Task OnInitAsync()
    {
        this.Contacts = await ContactService.GetContacts();
    }
}
